cd web

echo -e '\n    ğŸ—ï¸ğŸ‘· Styling, testing and building your project before committing \n'
echo -e 'ğŸš§ Checking Prettier formatting...\n'

# Check Prettier standards
npm run check-prettier ||
(
    echo 'âŒ Prettier failed in checking. Run "npm run prettier-fix" to let prettier format your files.';
    false;
)

echo -e 'âœ… Prettier formatting complete. (1/4)\n'
echo -e 'ğŸš§ Running your tests...\n'

# Run tests
npm run test ||
(
    echo 'âŒ Not all your tests passed.';
    false;
)

echo -e 'âœ… Testing complete. (2/4)\n'
echo -e 'ğŸš§ Checking ESLint...\n'

# Check ESLint Standards
npm run check-lint ||
(
        echo 'âŒ ESLint failed in checking. Run "npm run lint-fix" to fix the issues. If theyare not addressed automatically, please address them manually and try to commit again.'
        false; 
)

echo -e 'âœ… ESLint check complete. (3/4)\n'
echo -e 'ğŸš§ Building your application...\n'

npm run build ||
(
    echo 'âŒ Build failed. Please address the issues above and try to commit again.'
    false;
)


# If everything passes... Now we can commit
echo -e 'âœ… All checks completed. (4/4)\n'
echo -e 'Committing... \n'